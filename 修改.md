# DapLink_CH552

### 硬件问题

1. SWC电平转换方向接固定
2. 插针pad太大
3. Q1意义不大
4. SWD加100k上拉电阻
5. 22欧排阻意义不大
6. 灯封装换成0603的
7. Low level determins b to a 
8. 使用P3.6作为下载配置脚时，USB插入有可能误触

### 软件问题

1. IO定义问题：应使用推挽输出
5. 实用功能：USB实现为键盘，用电容按键代替下载按钮（映射为F8）
6. 使用汇编优化数据搬运过程：DPH可知
7. 使用4个DAP_PACKET_COUNT意义不大，可以使用双缓冲区替代
5. 使用SPI作为下载接口

#### 已解决的软件问题

1. 直接使用双缓冲区作为串口buffer（ping-pong缓冲）
2. 使用芯片唯一ID做序列号
3. 全局中断问题：直接消除中断嵌套情况
4. 开启睡眠功能（不过感觉没啥用，只有在设备管理器中禁用此设备，USB挂起才生效）